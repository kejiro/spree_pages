<%= form_for [:admin, @object], html: { multipart: true } do |f| %>
  <fieldset data-hook="new_post">
    <%= f.field_container :title, class: ['form-group'] do %>
      <%= f.label :title, Spree.t(:title) %> <span class="required">*</span>
      <%= f.text_field :title, class: 'form-control title', required: :required %>
      <%= f.error_message_on :title %>
    <% end %>
    <div data-hook="new_post_available_on" class="col-xs-12 col-md-4">
      <%= f.field_container :available_on, class: ['form-group'] do %>
        <%= f.label :available_on, Spree.t(:available_on) %>
        <%= f.error_message_on :available_on %>
        <%= f.text_field :available_on, class: 'datepicker form-control' %>
      <% end %>
    </div>
    <div data-hook="new_blog_post_blog" class="col-xs-12 col-md-4">
      <%= f.field_container :blog, class: ['form-group'] do %>
        <%= f.label :blog_id, Spree.t(:blog) %>
        <%= f.collection_select :blog_id, Spree::Blog.all, :id, :title, { include_blank: true }, { class: 'select2' } %>
      <% end %>
    </div>
    <div data-hook="new_blog_post_content">
      <%= f.field_container :content, class: ['form-group'] do %>
        <%= f.label :content, Spree.t(:content) %>
        <%= f.text_area :content, { rows: "2", class: 'form-control' } %>
        <%= f.error_message_on :content %>
      <% end %>
    </div>
    <div data-hook="new_blog_post_featured_image">
      <%= image_tag @object.image.attachment.url(:large) unless @object.image.nil? %>
      <%= f.fields_for :image, @object.image do |i| %>
        <div class="form-group">
          <%= i.label :attachment, Spree.t(:featured_image) %>
          <%= i.file_field :attachment, class: 'form-control' %>
        </div>
      <% end %>
    </div>

    <%= render partial: 'spree/admin/shared/new_resource_links' %>
  </fieldset>
<% end %>